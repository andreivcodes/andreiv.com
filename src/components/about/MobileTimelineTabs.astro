---
import Professional from './Professional.astro';
import Education from './Education.astro';
---

<div class="mobile-timeline-tabs w-full">
  <!-- Tab buttons -->
  <div class="flex w-full rounded-lg bg-muted p-1 mb-6">
    <button 
      class="tab-button flex-1 rounded-md px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"
      data-tab="professional"
      data-state="active"
    >
      Professional Experience
    </button>
    <button 
      class="tab-button flex-1 rounded-md px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"
      data-tab="education"
      data-state="inactive"
    >
      Education
    </button>
  </div>

  <!-- Tab content -->
  <div class="tab-content" data-panel="professional">
    <Professional withTitle={false} />
  </div>
  <div class="tab-content hidden" data-panel="education">
    <Education withTitle={false} />
  </div>
</div>

<style>
  .mobile-timeline-tabs {
    position: relative;
  }
</style>

<script>
  // Handle tab switching
  const tabButtons = document.querySelectorAll('.tab-button');
  const tabContents = document.querySelectorAll('.tab-content');

  tabButtons.forEach(button => {
    button.addEventListener('click', () => {
      const targetTab = button.getAttribute('data-tab');
      
      // Update button states
      tabButtons.forEach(btn => {
        btn.setAttribute('data-state', btn.getAttribute('data-tab') === targetTab ? 'active' : 'inactive');
      });
      
      // Show/hide content
      tabContents.forEach(content => {
        if (content.getAttribute('data-panel') === targetTab) {
          content.classList.remove('hidden');
        } else {
          content.classList.add('hidden');
        }
      });
    });
  });
</script>