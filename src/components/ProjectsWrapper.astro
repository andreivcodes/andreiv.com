---
import { getProjects } from '@/lib/content';
import { ProjectsClient } from './ProjectsClient';

interface Props {
  withTitle: boolean;
}

const { withTitle } = Astro.props;
const projects = await getProjects();

// Type assertion to match ProjectsClient interface
const typedProjects = projects as Array<{
  slug: string;
  type: "Project";
  name: string;
  shortDescription: string;
  date: string;
  stackPrimary?: string[];
  stackSecondary?: string[];
  url?: string;
  demoUrl?: string;
  repository?: string;
  index?: number;
  inAbout?: boolean;
  aboutTopPadding?: number;
  content: string;
}>;
---

<ProjectsClient projects={typedProjects} withTitle={withTitle} client:load />